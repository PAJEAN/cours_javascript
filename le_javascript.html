<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Le JavaScript</title>
    <style>
        :root {
            --radius: 16px;
            --radius-sm: 12px;
        }

        .dark {
            --bg: #0b0c10;
            --border: #232736;            
            
            --text: #e6edf3;
            --muted: #9aa5b1;
            --accent: #7c9cff;
            --ok: #42d392;
            --err: #ff6b6b;

            --cell-bg: #151823;
            --code-bg: #0d1117;
            --code-output-bg: #0f1320;
            --code-border:#2b3245;

            --btn-bg: #111827;

            --exercise-bg: #1e293b;
            --exercise-border: #60a5fa;
            --exercise-text: #bfdbfe;

            --nota-bene-bg: #422006;    /* brun tr√®s sombre avec une touche de jaune */
            --nota-bene-border: #facc15; /* jaune vif */
            --nota-bene-text: #fef9c3;
        }

        .light {
            --bg: #fdfdfd;
            --border: #cccccc;
            
            --text: #1a1a1a;
            --muted: #555555;
            --accent: #0077ff;
            --ok: #42d392;
            --err: #fb1212;

            --cell-bg: #fdfdfd;
            --code-bg: #f5f5f5;
            --code-output-bg: #ffffff;
            --code-border: #d0d0d0;

            --btn-bg: #e9e9e9;

            --exercise-bg: #f0f9ff;
            --exercise-border: #3b82f6;

            --nota-bene-bg: #fefce8;    /* jaune tr√®s p√¢le */
            --nota-bene-border: #eab308; /* jaune dor√© */
        }

        /* Layout */
        html,
        body {
            height: 100%;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
        }

        .wrapper {
            min-height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 24px;
        }

        .page {
            width: 100%;
            max-width: 210mm;
            /* A4 width */
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: clamp(16px, 3vw, 32px);
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 24px;
        }

        .title {
            margin: 0;
            font-weight: 700;
            letter-spacing: .2px;
        }

        .subtle {
            color: var(--muted);
            font-size: 0.95rem;
        }

        .nota-bene-box,
        .exercise-box {
            padding: 1em;
            margin: 1.5em 0;
            border-radius: 8px;
        }

        .nota-bene-box {
            background: var(--nota-bene-bg);
            border-left: 6px solid var(--nota-bene-border);            
        }

        .exercise-box {
            background: var(--exercise-bg);
            border-left: 6px solid var(--exercise-border);
        }

        .nota-bene-header,
        .exercise-header {
            font-weight: bold;
            font-size: 1.1em;
            
            display: flex;
            align-items: center;
            margin-bottom: 0.5em;
        }

        .nota-bene-header {
            color: var(--nota-bene-text);
        }

        .exercise-header {
            color: var(--exercise-text);
        }

        .box-icon {
            font-size: 1.3em;
            margin-right: 0.5em;
        }

        .box-content {
            font-size: 0.95em;
            line-height: 1.5em;
        }

        

        /* Content */
        h1,
        h2,
        h3 {
            line-height: 1.25;
            margin: 1.2em 0 .5em;
        }

        h1 {
            font-size: clamp(22px, 3vw, 32px);
        }

        h2 {
            font-size: clamp(20px, 2.5vw, 26px);
        }

        h3 {
            font-size: clamp(18px, 2vw, 22px);
        }

        p {
            margin: .5em 0 1em;
        }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Toolbar */
        .toolbar {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn {
            appearance: none;
            border: 1px solid var(--border);
            background: var(--bg-btn);
            color: var(--text);
            padding: 10px 14px;
            border-radius: 999px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn:hover {
            transform: translateY(-1px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .icon {
            margin-right: 6px;
        }

        .hidden {
            display: none;
        }

        .my {
            margin: 0.5em 0;
        }

        .mt {
            margin-top: 0.5em;
        }

        /* Code Cell */
        .cell {
            background: var(--cell-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 14px;
            margin: 18px 0;
        }

        .cell header {
            margin: 0 0 10px;
        }

        .cell-title {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .cell-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .editor,
        .output {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: clamp(12px, 1.4vw, 14px);
            padding: 10px 12px;
            border-radius: var(--radius-sm);
        }

        .editor {
            background: var(--code-bg);
            border: 1px solid var(--code-border);
            line-height: 1.5;
            color: var(--text);
            resize: vertical;
            width: 100%;
            box-sizing: border-box;
        }

        .output {
            margin-top: 10px;
            background: var(--code-output-bg);
            border: 1px dashed var(--code-border);
            white-space: pre-wrap;
            overflow-wrap: anywhere;
            min-height: 48px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            border-radius: 999px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
        }

        .ok {
            color: var(--ok);
        }

        .err {
            color: var(--err);
        }

        /* Print styles (A4) */
        @media print {
            body {
                background: white;
            }

            .wrapper {
                padding: 0;
            }

            .page {
                box-shadow: none;
                border: none;
                max-width: 100%;
            }

            @page {
                size: A4;
                margin: 15mm;
            }
        }

        @media (max-width: 600px) {
            .btn .label {
                display: none;
            }

            .btn .icon {
                margin-right: 0;
            }
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="page" id="page">
            <header>
                <h1 class="title">Le JavaScript</h1>
                <div class="toolbar">
                    <button class="btn" id="btn-print" title="Imprimer / Exporter en PDF">üñ®Ô∏è Imprimer</button>
                    <button class="btn" id="btn-theme" title="Changer le th√®me" data-initial="light">üåó Th√®me</button>
                </div>
            </header>

            <p>Ce cours pr√©sente les concepts fondamentaux du JavaScript (c√¥t√© client) et sa syntaxe. Vous utiliserez un √©diteur de texte (par exemple : <a href="https://code.visualstudio.com/">Visual Studio Code</a>) ainsi qu'un navigateur Web (par exemple : Google Chrome, Firefox ou Opera). Tout au long du cours, diff√©rents exercices vous seront propos√©s et seront signal√©s par le cadre suivant.</p>

            <div class="exercise-box">
                <div class="exercise-header">
                    <span class="box-icon">üí°</span>
                    <span class="box-title">Exercice</span>
                </div>
                <div class="box-content">
                    Cette zone contient les instructions de l'exercice.
                </div>
            </div>

            <p>Les cellules sont interactives : vous pouvez y ex√©cuter directement le code. √Ä noter que certains exemples ne sont pas fonctionnels et sont fournis uniquement √† des fins p√©dagogiques.</p>


            <!-- ----------------------------------------------------------- -->
            <!--                 Cr√©er sa premi√®re page web                  -->
            <!-- ----------------------------------------------------------- -->

            <h2>Cr√©er sa premi√®re page web</h2>

            <div class="exercise-box">
                <div class="exercise-header">
                    <span class="box-icon">üí°</span>
                    <span class="box-title">Exercice</span>
                </div>
                <div class="box-content">
                    <ul>
                        <li> Ouvrez un √©diteur de texte et copier/coller le code ci-dessous. </li>
                        <li> Sauvegardez votre fichier et nommez le <code>hello_world.html</code>. </li>
                        <li> Double-cliquez sur votre fichier pour l'ouvrir avec votre navigateur. </li>
                        <li> Acc√©dez √† la console de d√©veloppement (touche F12 sur Google Chrome). </li>
                    </ul>
                </div>

<textarea class="editor" spellcheck="false">
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>Hello World&lt;/title>
&lt;/head>
&lt;body>
    <!-- Un commentaire HTML -->
    &lt;h1 style="color:red">Bonjour&lt;/h1>

    &lt;script type="text/javascript">
    // Un premier commentaire en JavaScript.
    /*
        Un second commentaire en Javascript.
    */
    console.log("Hello World");
    &lt;/script>
&lt;/body>
&lt;/html></textarea>

                <div class="mt">
                    Pour organiser votre code, vous pouvez s√©parer la structure de la page (HTML) et la logique (JavaScript). Cr√©ez deux fichiers distincts :
                    <ul>
                        <li>un fichier HTML (par exemple <code>index.html</code>),</li>
                        <li>un fichier JavaScript (par exemple <code>script.js</code>).</li>
                    </ul>
                    Ensuite, vous pouvez lier le fichier JavaScript √† la page HTML en utilisant la balise :
                    
<textarea class="editor my" spellcheck="false">&lt;script src="script.js">&lt;/script></textarea>
                </div>

            </div>

            <p>Tirons des enseignements de l'exemple ci-dessus:
                <ul>
                    <li> Une page HTML est constitu√©e d'une balise <code>&lt;head&gt;</code> contenant tous les √©l√©ments de l'en-t√™te du document et d'une balise <code>&lt;body&gt;</code> repr√©sentant le contenu du document. </li>
                    <li> Le code JavaScript est ici directement int√©gr√© au code HTML de la page Web via la balise <code>&lt;script&gt;</code>. </li>
                    <li> Les deux fa√ßons d'ajouter un commentaire au sein d'un code JavaScript (// et /* */). </li>
                    <li> Le code JavaScript exploite la m√©thode <code>log()</code> de l'objet <code>console</code> pour afficher un message au sein de la console du navigateur (F12 pour l'ouvrir avec Chrome). </li>
                    <li> Une instruction JavaScript se termine par un point-virgule (lorsqu'il n'est pas explicitement indiqu√© l'interpr√®te exploite l'ASI (<i>Automatic Semicolon Insertion</i>) pour automatiquement ajouter les point-virgules. <b>Cependant, prenez garde.</b> </li>
                </ul>
            </p>

            <div id="cells1"></div>

            <button class="btn toggle-answer">
                Afficher l'explication
            </button>
            <div class="hidden">
                <p>
                    Une erreur est lev√©e car JavaScript tente d'ex√©cuter le code ci-dessous.
                </p>
<textarea class="editor" spellcheck="false">
const a = 1
const b = 2
const c = a + b(a + b).toString()</textarea>                
            </div>

            <p class="subtle">La fonction <b><i>toString()</i></b> est utilis√©e ici pour convertir le nombre en une cha√Æne de caract√®res.</p>


            <!-- ----------------------------------------------------------- -->
            <!--                        Les variables                        -->
            <!-- ----------------------------------------------------------- -->

            <h2>Les variables</h2>

            <div>
                <p>Une <b>variable</b> est un espace de m√©moire qui sert √† stocker une information. Elle est identifi√©e par un <b>nom</b>, qui doit respecter certaines r√®gles :</p>
                <ul>
                    <li>Il peut contenir :</li>
                        <ul>
                            <li>des lettres (majuscules ou minuscules),</li>
                            <li>des chiffres,</li>
                            <li>les caract√®res sp√©ciaux <code>_</code> et <code>$</code>.</li>                                
                        </ul>
                    <li>‚ùå Le tiret <code>-</code> est interdit (il est interpr√©t√© comme une soustraction).</li>
                    <li>‚ùå D'autres symboles comme <code>*</code> sont aussi interdits.</li>
                    <li>‚ùå On ne peut pas utiliser les <b>mots r√©serv√©s</b> du langage (ex. <code>var</code>, <code>if</code>, <code>window</code>...).</li>
                    <li>‚ö†Ô∏è Les noms de variables sont <b>sensibles √† la casse</b> (<code>maVariable</code> et <code>mavariable</code> sont diff√©rents).</li>
                </ul>
            </div>

            <h3> D√©claration </h3>

            <p>La phase de cr√©ation d'une variable est appel√©e <b>d√©claration</b>. Tandis que la phase o√π une valeur est attribu√©e √† une variable est appel√©e <b>instanciation</b>. En JavaScript, il existe 3 mots-cl√©s pour d√©clarer une variable <b><code>var</code></b>, <b><code>let</code></b> et <b><code>const</code></b>.</p>

<textarea class="editor" spellcheck="false">
let compteur1 = 0;
var compteur2 = 0, texte = "Hello", maxi;
maxi = 100;</textarea>

            <p>Les diff√©rences entre <code>var</code>, <code>let</code> et <code>const</code> r√©sident dans la <b>port√©e</b> des variables (fonctionnelle ou bloc), dans leur comportement vis-√†-vis du <b>hissage</b>, ainsi que dans la possibilit√© ou non de <b>r√©affecter leur valeur</b>.</p>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    <ul>
                        <li> La <b>port√©e</b> d'une variable est l'ensemble des √©l√©ments du code source o√π la variable existe et est manipulable.</li>
                        <li> Le ph√©nom√®ne de <b>hissage</b> (<i>hoisting</i> en anglais) correspond au m√©canisme par lequel JavaScript place certaines d√©clarations (<code>var</code>, <code>function</code>) en haut de leur port√©e (<i>scope</i>) avant l'ex√©cution du code. Concernant les variables, il s'agit uniquement de leur d√©claration, et non de leur initialisation. </li>
                    </ul>
                </div>
            </div>
            
            <h4>Le mot-cl√© <code>var</code></h4>
            
            <p>Il permet de d√©clarer une variable avec une <b>port√©e de fonction</b>.</p>

            <p>La port√©e de la variable d√©pendra du contexte dans lequel elle est d√©clar√©e:</p>
            <ul>
                <li>Si elle est d√©clar√©e dans une fonction, la port√©e est celle de la fonction, qu'importe le bloc dans lequel elle se trouve.</li>
                <li>Si elle est d√©lcar√©e hors d'une fonction, la port√©e sera celle du contexte global.</li>
            </ul>
            
            <div id="cells2"></div>

            <p>Les variables d√©clar√©es avec <code>var</code> sont √©galement <b>hiss√©es</b>, mais leur valeur n'est pas encore attribu√©e. Elles sont donc accessibles avant leur d√©claration, mais valent <code>undefined</code>.</p>

            <div id="cells3"></div>

            <p>Les variables d√©clar√©es avec <code>var</code> peuvent √™tre red√©clar√©es.</p>

            <div id="cells3-1"></div>

            <div id="cells4"></div>

            <button class="btn toggle-answer">
                Afficher l'explication
            </button>
            <div class="hidden">
                <p>
                    Le mot-cl√© <code>var</code> poss√®de une port√©e limit√©e √† la fonction. Ainsi, lorsqu'une variable est d√©clar√©e avec <code>var</code> au sein d'une fonction, sa d√©claration est hiss√©e au d√©but de la fonction, et non au niveau du contexte global.
                </p>             
            </div>

            <h4>Le mot-cl√© <code>let</code></h4>

            <p>Il permet de d√©clarer des variables visibles uniquement au sein du <b>bloc d'instructions</b> dans lequel la variable est d√©finie. Un bloc en JavaScript est repr√©sent√© par les instructions que l'on retrouve entre les accolades <i>e.g. if</i>, <i>while</i>...</p>

            <div id="cells5"></div>

            <p>Les variables d√©clar√©es avec <code>let</code> ne peuvent pas √™tre red√©clar√©es.</p>

            <div id="cells5-1"></div>

            <p>Les variables d√©clar√©es avec <code>let</code> (ou <code>const</code>) sont aussi <b>hiss√©es</b>, mais elles restent dans une <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/let#zone_morte_temporaire_temporal_dead_zone_tdz_et_les_erreurs_li%C3%A9es_%C3%A0_let">zone morte temporaire (TDZ)</a> jusqu'√† leur <b>initialisation</b>.</p>

            <div id="cells6"></div>

            <div id="cells7"></div>

            <h4>Le mot-cl√© <code>const</code></h4>

            <p>Une variable d√©clar√©e avec le mot-cl√© <code>const</code> se comporte de mani√®re similaire √† une variable d√©clar√©e avec <code>let</code>, √† ceci pr√®s qu'elle d√©finit <b>une constante accessible uniquement en lecture</b>. Cela ne signifie pas que la valeur stock√©e est immuable, mais simplement que l'identifiant ne peut pas √™tre r√©affect√©. De plus, une d√©claration <code>const</code> doit toujours √™tre initialis√©e d√®s sa cr√©ation.</p>

            <div id="cells7-1"></div>

            <div id="cells7-2"></div>

            <div id="cells7-3"></div>

            <h3> Types de variables </h3>

            <p>Le JavaScript est faiblement typ√©, c'est-√†-dire qu'il <b>autorise une variable √† contenir n'importe quel type de donn√©es</b> et √† en <b>changer en cours d'ex√©cution</b>. L'op√©rateur <code>typeof</code> permet d'identifier la nature d'une variable.</p>

            <div id="cells8"></div>

            <p>En JavaScript, tout est objet (ou doit √™tre au moins trait√© comme tel), except√© pour les <a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive">primitives</a>. Une primitive est une donn√©e. <b>Elle n'est pas un objet, ne poss√®de pas de m√©thode et n'est pas mutable</b> (en d'autres termes, elle ne peut pas √™tre alt√©r√©e contrairement aux objets). Voici les primitives existantes :</p>
            <ul>            
                <li> <b>undefined</b> par exemple lorsqu'une variable est d√©clar√©e sans √™tre initialis√©e. </li>
                <li> <b>number</b> englobe diff√©rents types de nombres (<code>integer</code>, <code>float</code>, etc.). </li>
                <li> <b>bigint</b> repr√©sente des valeurs plus grandes que celles correctement repr√©sentables par une valeur primitive num√©rique (<code>number</code>). </li>
                <li> <b>string</b> d√©signant les cha√Ænes de caract√®res. </li>
                <li> <b>boolean</b> pour symboliser les √©tats <code>true</code> et <code>false</code>. </li>
                <li> <b>null</b> repr√©sente la nullit√© au sens o√π aucune valeur pour l'objet n'est pr√©sente (une variable d√©clar√©e peut √™tre instanci√©e √† <code>null</code>). L'op√©rateur <code>typeof</code> affiche le type <code>object</code> pour une variable instanci√©e avec le type <code>null</code> (un <a href="https://stackoverflow.com/questions/18808226/why-is-typeof-null-object">comportement historique</a> de JavaScript).</li>
                <li> <b>symbol</b> repr√©sente une donn√©e unique et inchangeable qui peut √™tre utilis√©e afin de repr√©senter des identifiants pour des propri√©t√©s d'un objet. </li>
            </ul>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    Les enveloppes objet <code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>Symbol</code> et <code>BigInt</code> sont exploit√©s lorsque l'on essaye d'acc√©der √† une propri√©t√© ou √† une fonction directement √† partir d'une primitive.
                </div>
            </div>

            <div id="cells9"></div>

            <p>L'op√©rateur <code><b>==</b></code> teste l'√©galit√© de valeur entre deux variables et l'op√©rateur <code><b>===</b></code> teste l'√©galit√© de valeur et de type entre deux variables.</p>

            <div id="cells10"></div>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    <p>Quand on utilise <code>==</code> en JavaScript des conversions de type sont r√©alis√©es. Par exemple, si l'un des deux c√¥t√©s est un bool√©en, JavaScript le convertit en nombre :</p>
                    <ul>
                        <li><code>true</code> devient 1,</li>
                        <li><code>false</code> devient 0.</li>
                    </ul>            
                    <p>Par contre, <code>null</code> n'est pas converti en nombre dans ce cas-l√† (pourtant <code>Number(null) == 0</code>). La seule valeur avec laquelle <code>null</code> est √©gal via <code>==</code> est <code>undefined</code> (ou <code>null</code> lui-m√™me).</p>

                    <p>A noter que lorsqu'on utilise <code>===</code>, il n'y a jamais de conversion (type diff√©rent √©quivaut √† <code>false</code>)</p>
                </div>
            </div>

            <div id="cells11"></div>


            <!-- ----------------------------------------------------------------------- -->
            <!--                               Les nombres                               -->
            <!-- ----------------------------------------------------------------------- -->

            <h2> Les nombres </h2>

            <div id="cells12"></div>

            <div id="cells13"></div>

            <div id="cells14"></div>

            <div id="cells15"></div>


            <!-- ----------------------------------------------------------- -->
            <!--                  Les cha√Ænes de caract√®res                  -->
            <!-- ----------------------------------------------------------- -->

            <h2> Les cha√Ænes de caract√®res </h2>

            <p> Une cha√Æne de caract√®res est une succession ordonn√©e de caract√®res. Si elle ne contient aucun caract√®re, alors c'est une cha√Æne vide. Les cha√Ænes de caract√®res sont des primitives ainsi <b>elles ne sont pas mutables</b> (contrairement √† Python par exemple). </p>

            <div id="cells16"></div>

            <h3> Conversion de types </h3>

            <p> Une cha√Æne de caract√®res peut √™tre cr√©ee √† partir de tout objet JavaScript et de sa m√©thode de conversion vers une cha√Æne <code>toString()</code> (possibilit√© de surcharger cette m√©thode). </p>

            <div id="cells17"></div>

            <h3> Propri√©t√©s et m√©thodes associ√©es √† l'objet <code>String</code> </h3>

            <p> Une cha√Æne de caract√®res <b>exploite les propri√©t√©s et les m√©thodes issues de l'objet <code>String</code></b> (vous pouvez retrouver l'ensemble des m√©thodes sur <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String">developer.mozilla.org</a>). Pour cela, JavaScript cr√©e un <i>wrapper</i> √† partir de l'objet <code>String</code>. Ainsi, lorsque l'on essaye d'acc√©der √† une proprit√©t√© d'une cha√Æne de caract√®res <code>str</code> ou qu'une fonction y est appliqu√©e alors JavaScript r√©alise l'op√©ration <code>new String(str)</code> afin de cr√©er un objet <code>String</code> initialis√© √† partir de la valeur de la primitive <code>str</code>. D√©taillons certaines propri√©t√©s et m√©thodes. </p>

            <div id="cells18"></div>

            <div id="cells19"></div>

            <div id="cells20"></div>

            <div id="cells21"></div>

            <div id="cells22"></div>

            <div id="cells23"></div>

            <div class="exercise-box">
                <div class="exercise-header">
                    <span class="box-icon">üí°</span>
                    <span class="box-title">Exercice</span>
                </div>
                <div class="box-content">
                    <ul>
                        <li>Afficher en majuscule le dernier caract√®re de la cha√Æne "JavaScript".</li>
                        <li>Afficher les caract√®res "JS" √† partir de la cha√Æne "JavaScript".</li>
                    </ul>
                </div>
            </div>

            <button class="btn toggle-answer" data-pw="at">
                Afficher la r√©ponse
            </button>
            <div class="hidden">
                <div id="cells24"></div>
            </div>


            <!-- ----------------------------------------------------------- -->
            <!--                        Les fonctions                        -->
            <!-- ----------------------------------------------------------- -->

            <h2> Les fonctions </h2>

            <p> Une fonction est un ensemble d'instructions r√©utilisables pouvant √™tre effectu√©es √† partir de param√®tres et pouvant retourner un r√©sultat. L'int√©r√™t d'une fonction est de d√©crire une proc√©dure que l'on peut utiliser autant de fois que l'on veut sans r√©√©crire les m√™mes lignes de code. </p>

            <h3> Fonctions nomm√©es </h3>

            <div id="cells25"></div>

            <div id="cells26"></div>

            <div id="cells27"></div>

            <div id="cells28"></div>

            <div id="cells29"></div>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    <p> Une variable d√©clar√©e dans le <b>contexte global</b> est visible et manipulable dans l'ensemble du script. Une variable <b>locale</b>, d√©clar√©e dans le corps d'une fonction, n'est visible que localement √† l'int√©rieur de cette fonction. </p>
                    <p> Au sein du code pr√©c√©dent, JavaScript cr√©e une copie locale (copie par valeur pour les variables primitives et par r√©f√©rence pour les objets) de l'argument pass√© en param√®tre de la fonction. Cette copie existe uniquement √† l'int√©rieur de la fonction et elle est accessible par le nom sp√©cifi√© dans la d√©finition de la fonction. </p>
                </div>
            </div>
            
            <p> Une fonction peut √™tre d√©clar√©e avec un nombre ind√©fini de param√®tres en entr√©e. La syntaxe utilise trois points plac√©s devant le dernier param√®tre (affectation par d√©composition). Ces trois points (...) sont appel√©s <b>syntaxe de d√©composition</b>. Ils permettent d'√©tendre un it√©rable (par exemple une expression de tableau ou une cha√Æne de caract√®res) en lieu et place de plusieurs arguments (pour les appels de fonctions) ou de plusieurs √©l√©ments (pour les tableaux).</p>

            <div id="cells30"></div>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    <p> L'objet <code>arguments</code> est une variable locale (intrins√®que et inh√©rente aux fonctions) disponibles dans toutes les fonctions (qui ne sont pas des fonctions fl√©ch√©es). Cet objet est semblable √† un tableau, il poss√®de une propri√©t√© <i>length</i>, mais il n'h√©rite pas des m√©thodes de l'objet <code>Array</code> (<i>e.g.</i> <code>map()</code>, <code>every()</code>, etc.). </p>
                </div>
            </div>

            <h3> Fonctions anonymes </h3>

            <p> Dans certain cas, il n'est pas utile de nommer une fonction qui ne sera pas appel√©e et r√©utilis√©e ailleurs dans le code. On peut donc d√©clarer des fonctions anonymes (qui n'ont pas de nom). L'exemple suivant exploite la fonction <code>every()</code> qui teste l'ensemble des √©l√©ments d'un tableau pour v√©rifier si la condition d√©crite par une fonction pass√©e en argument est respect√©e. </p>

            <div id="cells31"></div>

            <p> La d√©finition d'une fonction anonyme peut √©galement √™tre r√©alis√©e par l'interm√©diaire du mot-cl√© <code>function</code> sans renseigner de nom de fonction ou bien par la syntaxe des <b>fonctions fl√©ch√©es</b>. </p>

            <p> Une diff√©rence importante √† souligner entre les fonctions nomm√©es et les expressions de fonction (anonymes) r√©side dans leur comportement vis-√†-vis du ph√©nom√®ne de <i>hissage</i>. </p>
            
            <div id="cells32"></div>

            <div id="cells33"></div>

            <h3> Fonctions fl√©ch√©es </h3>

            <p> Deux facteurs sont √† l'origine de la conception des fonctions fl√©ch√©es : une syntaxe plus courte vis-√†-vis des expressions de fonction et l'absence de <code>this</code> sp√©cifique √† la fonction. Sur ce dernier point, cela signifie qu'une fonction fl√©ch√©e ne lie pas son propre <code>this</code> au sein de la fonction. La syntaxe des fonctions fl√©ch√©es est souvent utilis√©e pour repr√©senter une fonction anonyme <code>(valeurEntr√©e) => expressionRetour</code> au sein d'une m√©thode. </p>

            <div id="cells34"></div>

            <h3> Fonctions auto-ex√©cut√©es </h3>

            <p> JavaScript introduit une syntaxe pour ex√©cuter une fonction imm√©diatement apr√®s sa cr√©ation. </p>

            <div id="cells35"></div>

            <h2> Manipuler les fonctions </h2>

            <h3> Fonction de premi√®re classe </h3>

            <p> En JavaScript, <b>les fonctions sont des objets</b> de type <code>Function</code> au m√™me titre qu'un tableau est un objet de type <code>Array</code>. Cela veut dire qu'une fonction peut :</p>
            <ul>
                <li> √™tre affect√©e √† des variables ou des structures de donn√©es (<i>e.g.</i> on r√©f√©rence une fonction √† une variable), </li>
                <li> √™tre pass√©e comme param√®tre √† une fonction, </li>
                <li> √™tre retourn√©e par une fonction. </li>
            </ul>

            <p> Ainsi, une fonction de <b>premi√®re classe</b> correspond √† une <b>propri√©t√© d'un langage</b> comme le JavaScript dans lequel les fonctions sont des objets de premi√®re classe. Cela signifie qu'on peut les stocker dans des variables, les passer en argument ou bien les retourner depuis d'autres fonctions. </p>

            <div id="cells36"></div>

            <h3> Fonctions d'ordre sup√©rieur </h3>

            <p> Cette propri√©t√© des fonctions de premi√®re classe permet des constructions int√©ressantes appel√©e <b>les fonctions d'ordre sup√©rieur</b> (<i>high order functions</i>).
            Une fonction d'ordre sup√©rieur est une <b>fonction qui accepte au moins une autre fonction en param√®tre, et/ou qui retourne une fonction en r√©sultat</b>. Un exemple a √©t√© pr√©sent√© pr√©c√©demment avec la fonction <code>every()</code>.

            <div id="cells37"></div>

            <h3> Fonctions imbriqu√©es et fermetures (<i>closures</i>) </h3>

            <p> Il est possible d'imbriquer une fonction au sein d'une autre fonction. La fonction imbriqu√©e (interne) est priv√©e par rapport √† la fonction (externe) qui la contient. Cela forme ce qu'on appelle une <b>fermeture</b> (ou <i>closure</i> en anglais). </p>

            <p>Les fermetures sont des <b>fonctions qui se "souviennent" de l'environnement dans lequel elles ont √©t√© cr√©√©es</b> (on dit aussi que la fonction capture son "environnement"). En d'autres termes, une <i>closure</i> est une fonction capable de capter des donn√©es (susceptibles de changer au cours du temps), de les enregistrer dans son espace fonctionnel et de les fournir en cas de besoin. </p>

            <div class="nota-bene-box">
                <div class="nota-bene-header">
                    <span class="box-icon">üìù</span>
                    <span class="box-title">√Ä savoir</span>
                </div>
                <div class="box-content">
                    <ul>
                        <li> On ne peut acc√©der √† la fonction interne seulement avec des instructions contenues dans la fonction externe. </li>
                        <li> La fonction interne est une fermeture : la fonction interne peut utiliser les arguments et des variables de la fonction externe alors que la fonction externe ne peut pas utiliser de variables et d'arguments de la fonction interne. </li>
                    </ul>
                </div>
            </div>
            

            <div id="cells38"></div>

            <div id="cells39"></div>

            <p> Lorsque deux arguments ou variables appartenant aux port√©es d'une fermeture ont le m√™me nom, il y a un conflit de noms. La <b>port√©e la plus interne l'emportera</b> par rapport √† la port√©e la plus externe. C'est ce qu'on appelle la cha√Æne de port√©e (scope chain en anglais). Le premier maillon de cette cha√Æne est la port√©e la plus interne tandis que le dernier maillon est repr√©sent√© par la port√©e la plus externe. </p>

            <div id="cells40"></div>
            
            <div id="cells41"></div>

            <h2> La manipulation de tableaux </h2>

            <p> Un tableau est une structure ordonn√©e de donn√©es qui permet l'acc√®s aux informations qu'il contient par un indice. En JavaScript un tableau peut contenir plusieurs types de donn√©es √† la fois. </p>

            <div id="cells42"></div>

            <div id="cells42-1"></div>

            <div id="cells43"></div>

            <div id="cells44"></div>

            <h3> M√©thodes associ√©es √† l'objet <code>Array</code> </h3>

            <p> Vous pouvez retrouver l'ensemble des fonctions sur <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Array">developer.mozilla.org</a>. </p>

            <div id="cells45"></div>
            
            <div id="cells46"></div>
            
            <div id="cells47"></div>
            
            <div id="cells48"></div>

            <div id="cells49"></div>

        </div>
    </div>


<!--
88888888888                              888          888            
    888                                  888          888            
    888                                  888          888            
    888   .d88b.  88888b.d88b.  88888b.  888  8888b.  888888 .d88b.  
    888  d8P  Y8b 888 "888 "88b 888 "88b 888     "88b 888   d8P  Y8b 
    888  88888888 888  888  888 888  888 888 .d888888 888   88888888 
    888  Y8b.     888  888  888 888 d88P 888 888  888 Y88b. Y8b.     
    888   "Y8888  888  888  888 88888P"  888 "Y888888  "Y888 "Y8888  
                                888                                  
                                888                                  
                                888                                  
-->

    <template id="cell-template">
        <section class="cell">
            <header>
                <div class="cell-title">
                    <span class="badge">
                        <span class="dot"></span>
                        <span class="title-text">JavaScript</span>
                    </span>
                </div>
                <div class="cell-actions">
                    <button class="btn run">
                        <span class="icon">‚ñ∂</span>
                        <span class="label">Ex√©cuter</span>
                    </button>
                    <button class="btn reset">
                        <span class="icon">‚ü≥</span>
                        <span class="label">R√©initialiser</span>
                    </button>

                    <button class="btn clear">
                        <span class="icon">üßπ</span>
                        <span class="label">Effacer</span>
                    </button>
                </div>
            </header>
            <textarea class="editor" spellcheck="false"></textarea>
            <div class="output" aria-live="polite"></div>
        </section>
    </template>


<!--
 .d8888b.                   d8b          888    
d88P  Y88b                  Y8P          888    
Y88b.                                    888    
 "Y888b.    .d8888b 888d888 888 88888b.  888888 
    "Y88b. d88P"    888P"   888 888 "88b 888    
      "888 888      888     888 888  888 888    
Y88b  d88P Y88b.    888     888 888 d88P Y88b.  
 "Y8888P"   "Y8888P 888     888 88888P"   "Y888 
                                888             
                                888             
                                888             
-->

    <script>
        /* ==== Document initialization ==== */
        (() => {
            /* Theme */
            let theme_name_attribute = 'data-initial';
            const btn_theme = document.getElementById('btn-theme');
            if (!btn_theme.hasAttribute(theme_name_attribute)) {
                console.warn(`The button to change the theme does not have the ${theme_name_attribute} attribute`);
                return;
            }

            const body = document.body;
            body.classList.add(btn_theme.getAttribute(theme_name_attribute));

            btn_theme.addEventListener('click', () => {
                let old_theme = btn_theme.getAttribute(theme_name_attribute);
                let new_theme = old_theme == 'light'? 'dark': 'light';
                body.classList.remove(old_theme);
                body.classList.add(new_theme);
                btn_theme.setAttribute(theme_name_attribute, new_theme);
            });
        })();

        (() => {
            /* Print button */
            const btn_print = document.querySelector('#btn-print');
            btn_print.addEventListener('click', () => window.print());
        })();

        (() => {
            /* Auto-resize textarea on input */
            let editors = document.querySelectorAll('.editor');
            editors.forEach(editor => {
                const autoSize = () => { editor.style.height = 'auto'; editor.style.height = Math.min(editor.scrollHeight + 2, 800) + 'px'; };
                editor.addEventListener('input', autoSize);
                autoSize();
            })
        })();

        (() => {
            /* Toggle hidden answer */
            let btn_answers = document.querySelectorAll('.toggle-answer');
            btn_answers.forEach(button => {
                button.addEventListener('click', () => {
                    const answer = button.nextElementSibling;
                    const is_hidden = answer.classList.contains('hidden');
        
                    if (is_hidden) {
                        if (button.hasAttribute('data-pw')) {
                            const code = prompt('Veuillez entrer le code', '');
                            if (code != button.getAttribute('data-pw')) {
                                return;
                            }
                        }
                        answer.classList.remove('hidden');
                        button.textContent = "Masquer";
                        let textareas = answer.querySelectorAll('textarea');
                        if (textareas.length > 0) {
                            textareas.forEach(textarea => textarea.dispatchEvent(new Event('input')));
                        }
                    } else {
                        answer.classList.add('hidden');
                        button.textContent = "R√©afficher";
                    }
                });
            });
        })();
    
        
        /* ==== Managing code cells ==== */
        function createSandboxIframe() {
            /* Creating the code execution environment within an iframe */
            const iframe = document.createElement('iframe');
            iframe.setAttribute('sandbox', 'allow-scripts');
            iframe.style.display = 'none';
            const src = `
            <!DOCTYPE html>
            <html>
                <head>
                    <meta charset=\"utf-8\">
                </head>
                <body>
                    <script>
                    // Send message to main document.
                    const send = (type, payload) => parent.postMessage({type, payload}, '*');

                    // Capture console message.
                    console.log = (...args) => { send('log', args.map(format)); };
                    console.warn = (...args) => { send('warn', args.map(format)); };
                    console.error = (...args) => { send('error', args.map(format)); };
                    
                    function format(v){
                        try {
                            if (typeof v === 'object')
                                return JSON.stringify(v, null, 2);
                            } catch(e) {}
                        return String(v);
                    }

                    async function run(code) {
                        try {
                            const wrapped = '(async()=>{\\n' + code + '\\n})();';
                            // eval() execute a string like javascript code.
                            const result = await eval(wrapped);
                        } catch (e) {
                            send('error', [String(e && e.stack ? e.stack : e)]);
                        } finally {
                            send('done');
                        }
                    }

                    // Capture message from main document.
                    window.addEventListener('message', ev => {
                        if (!ev.data || ev.data.type !== 'exec') return;
                        run(ev.data.code);
                    });
                    <\/script>
                </body>
            </html>`;
            iframe.srcdoc = src;
            return iframe;
        }

        function appendLines(out, lines, cls = '') {
            /* Add a line in the result of a code cell */
            const div = document.createElement('div');
            if (cls) div.className = cls;
            div.textContent = lines.join(' ');
            out.appendChild(div);
            out.scrollTop = out.scrollHeight;
        }

        function attachCellBehavior(cell, title, prefilledCode) {
            /* Adds logic and interactions to the code cell */
            const editor = cell.querySelector('.editor');
            const out = cell.querySelector('.output');
            const btn_run = cell.querySelector('.run');
            const btn_reset = cell.querySelector('.reset');
            const btn_clear = cell.querySelector('.clear');
            const cell_title = cell.querySelector('.title-text');

            // Title of the cell.
            cell_title.innerHTML = title == '' ? 'JavaScript': title;

            // Auto-resize textarea on input.
            const autoSize = () => { editor.style.height = 'auto'; editor.style.height = Math.min(editor.scrollHeight + 2, 800) + 'px'; };
            editor.addEventListener('input', autoSize);
            autoSize();

            // Create the sandbox iframe.
            let iframe = createSandboxIframe();
            cell.appendChild(iframe);

            function clearOutput() {
                out.textContent = '';
            }

            function resetSandbox() {
                editor.value = prefilledCode;
            }

            function run() {
                clearOutput();
                const code = editor.value;

                // Listen for this cell's messages only while running.
                const handler = (ev) => {
                    const { type, payload } = ev.data || {};                    
                    if (!type) return;
                    if (type === 'log') appendLines(out, payload);
                    if (type === 'warn') appendLines(out, payload, 'warn');
                    if (type === 'error') appendLines(out, payload, 'err');
                    if (type === 'done') window.removeEventListener('message', handler);
                };
                // Add a listener to the main document.
                window.addEventListener('message', handler);
                // Send a message to the sandbox iframe.
                iframe.contentWindow.postMessage({ type: 'exec', code }, '*');
            }

            // Init buttons.
            btn_run.addEventListener('click', run);
            btn_reset.addEventListener('click', resetSandbox);
            btn_clear.addEventListener('click', clearOutput);

            // Ctrl/Cmd+Enter to run
            editor.addEventListener('keydown', (e) => {
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    e.preventDefault();
                    run();
                }
            });
        }

        function addCell(id_cell, title = '', code = '') {
            const tpl = document.querySelector('#cell-template');
            const node = tpl.content.firstElementChild.cloneNode(true);
            node.querySelector('.editor').value = code.trim();
            const cellsRoot = document.querySelector(`#${id_cell}`);
            cellsRoot.appendChild(node);
            attachCellBehavior(node, title, code.trim());
        }

        /* ==== Add cells ==== */
        addCell('cells1', 'Question', `
/* == D'apr√®s vous, est ce que ce code d√©clenche une erreur ? == */

const a = 1
const b = 2
const c = a + b
(a + b).toString()
        `);

        addCell('cells2', 'Port√©e du mot-cl√© <code>var</code>', `
for (var i = 0; i < 2; i++) {
    console.log(i);
}
console.log('La variable i = ' + i);        
        `);

        addCell('cells3', 'Hissage du mot-cl√© <code>var</code>', `
console.log('v1: ' + v1);
var v1 = 0;      
`);

        addCell('cells3-1', 'Red√©clarer une variable avec le mot-cl√© <code>var</code>', `
var x = 'John Doe';
var x = 0;
console.log(x);
`);

        addCell('cells4', 'Question', `
/* == Est ce que ce code contient une erreur ? == */

function g() {
    var h = 0;
}
g();            // Ex√©cution de la fonction nomm√©e g.
console.log(h); // Affichage de la variable h ?
        `);

        addCell('cells5', 'Port√©e du mot-cl√© <code>let</code', `
for (let i = 0; i < 2; i++) {
    console.log(i);
}
console.log('La variable i = ' + i);
        `);

        addCell('cells5-1', 'Red√©clarer une variable avec le mot-cl√© <code>let</code>', `
let x = 'John Doe';
let x = 0;
console.log(x);
`);

        addCell('cells6', 'Hissage du mot-cl√© <code>let</code>', `
console.log('v1: ' + v1);
let v1 = 0;      
        `);

        addCell('cells7', 'Question', `
/* == Quel sera le r√©sultat de ce code ? == */

if (true) {
    var g = 0;
    let h = 1;
}
console.log('Variable g = ' + g);
console.log('Variable h = ' + h);
        `);

        addCell('cells7-1', 'let vs const (1/2)', `
let x = 'John Doe';
x = 0;
console.log(x);
        `);

        addCell('cells7-2', 'let vs const (2/2)', `
const x = 'John Doe';
x = 0;
console.log(x);
        `);

        addCell('cells7-3', 'Valeur muable', `
const TABLEAU = [1,2,3];
TABLEAU[0] = 2;
console.log(TABLEAU.toString());
        `);

        addCell('cells8', 'Types et r√©affectation', `
var a = 2;
console.log('type de la variable a :' + typeof a);
a = a + '3';
console.log('a = ' + a + ' et est de type ' + typeof a);
var b;
console.log('type de la variable b :' + typeof b);
        `);

        addCell('cells9', 'Comparaison entre les types (1/2)', `
console.log('null == undefined :', null == undefined); // Exception: repr√©sente tous les deux une valeur fausse (falsy).
console.log('null === undefined :', null === undefined);
console.log('typeof null : ', typeof null);
const s1 = Symbol();
const s2 = Symbol();
console.log('s1 === s2 :', s1 === s2);
        `);

        addCell('cells10', 'Comparaison entre les types (2/2)', `
console.log('false == 0:', false == 0);
console.log('true == 1:', true == 1);
console.log('false === 0:', false === 0);
console.log('null == false:', null == false);
console.log('Number(null) == false:', Number(null) == false)
        `);

        addCell('cells11', 'Question', `
/* == Quel sera le r√©sultat de l'instruction suivante ? == */

console.log(typeof typeof 1);
        `);

        addCell('cells12', 'Op√©rations √©l√©mentaires', `
var a = 3 + 2;
var b = 4 * 2;
var c = 5 / 2;
var d = 6 % 2;
console.log(a + '; ' + b + '; ' + c + '; ' + d);
        `);

        addCell('cells13', 'Incr√©mentation et d√©cr√©mentation', `
var a = 1;
a = a + 1;
a += 1;
a++;
a = a - 1;
a -= 1;
a--;
console.log('a = ', a);
a *= 2;
console.log('a = ', a);
a /= 2;
console.log('a = ', a);
        `);

        addCell('cells14', 'Conversion de type', `
var nombre = '3.14abc';
console.log(nombre + ' est un ' + typeof nombre);
console.log(parseInt(nombre) + " est un " + typeof parseInt(nombre));
console.log(parseFloat(nombre) + " est un " + typeof parseFloat(nombre));
console.log("1 == '1' =", 1 == '1'); // Conversion de '1' en 1.
console.log("1 === '1", 1 === '1'); // Aucune conversion.
        `);

        addCell('cells15', 'Conversion de type dans les op√©rations', `
console.log('5' - 3); // Conversion.
console.log('5' * '2'); // Conversion.
console.log('5' / '2'); // Conversion.
console.log('5' + 3); // Op√©rateur de concat√©nation.
        `);

        addCell('cells16', 'Question', `
/* == Quel sera le r√©sultat ? == */

let str = 'bonjour';
str[0] = 'B';
console.log(str);
        `);

        addCell('cells16', 'D√©clarer une cha√Æne de caract√®res', `
var a = "Cha√Æne de caract√®res #1.";
var b = 'Cha√Æne de "caract√®res" #2.';
var c = "Cha√Æne de \\"caract√®res\\" #3.";
var d = \`Cha'√Æ'ne de "caract√®res" #4.\`;
console.log(\`a = `+'${a}'+`; b = `+'${b}'+`; c = `+'${c}'+`\`);
console.log(d);
        `);

        addCell('cells17', 'Conversion de type', `
let date = new Date();
let nombre1 = 2;
let nombre2 = 2 + '';
let tableau = [1,2,3];
console.log(date.toString() + " | " + nombre1.toString() + " | " + typeof nombre2 + " | " + tableau.toString());

Date.prototype.toString = function() { // Surcharge de la m√©thode toString de l'objet Date.
    return this.getFullYear();
};
console.log('Ann√©e :', date.toString());
        `);

        addCell('cells18', "Longueur d'une cha√Æne", `
let str = 'JavaScript';
/* == Quels seront les r√©sultats de ces 3 instructions ? == */

console.log(str.length);
console.log("str".length);
console.log("".length);
        `);

        addCell('cells19', 'Majuscules et minuscules', `
let msg = 'JavaScript';
console.log(msg.toUpperCase());
console.log(msg.toLowerCase());
        `);

        addCell('cells20', 'Acc√©der √† un caract√®re pr√©cis', `
let msg = 'Javascript !';
console.log(msg[0]);
console.log(msg.charAt(0));
        `);

        addCell('cells21', 'Rechercher dans une cha√Æne', `
let msg = 'ouagadougou';
console.log(msg.lastIndexOf("ou"));
console.log(msg.indexOf("ou"));
console.log(msg.indexOf("ou", 8)); // √Ä partir d'un indice donn√© (ici 8).
        `);

        addCell('cells22', 'Extraire une sous-cha√Æne', `
let msg = 'JavaScript';
console.log(msg.substring(0, 4));
console.log(msg.substring(4));
        `);

        addCell('cells23', 'Nettoyer une cha√Æne de caract√®res', `
let msg = \` \t \n \t  JavaScript   \`;
console.log(msg);
console.log(msg.trim());
        `);

        addCell('cells24', 'Exercice', `
let msg = 'JavaScript';
console.log(msg[msg.length - 1].toUpperCase());
console.log(msg[0] + '' + msg[4]);
        `);

        addCell('cells25', 'Fonction nomm√©e', `
function direBonjour() {
    console.log('Bonjour !');
}
direBonjour();
        `);
        
        addCell('cells26', 'Param√®tre de fonction (1/2)', `
function direBonjour(nom){
    return 'Bonjour ' + nom + '!';
}
console.log(direBonjour('Arthur'));
        `);

        addCell('cells27', 'Param√®tre de fonction (2/2)', `
function direBonjour(nom) {
    console.log('Bonjour ' + nom + '!');
}

// Est ce que JavaScript va renvoyer une erreur ?

direBonjour();
        `);

        addCell('cells28', 'Param√®tre par d√©faut', `
function direBonjour(nom, age = 32) { // Param√®tre par d√©faut.
    return 'Bonjour ' + nom + ', tu as ' + age + ' ans!';
}
console.log(direBonjour('Arthur'));
console.log(direBonjour('Merlin', 884));
        `);

        addCell('cells29', 'Port√©e des variables', `
var age = 22; // Variable globale.
function direBonjour(nom, age){
    var citation = 'Pas changer assiette pour fromage !'; // Variable locale.
    age++;
    return 'Bonjour ' + nom + ', tu as ' + age + ' ans! ' + citation;
}
console.log(direBonjour('Arthur', age));

// Quelle valeur a la variable globale age ?
console.log('Variable age: ' + age);

console.log(direBonjour('Merlin', 884));

// Selon vous, est ce que je peux afficher la variable citation ?
console.log(citation);
        `);

        addCell('cells30', 'D√©composition', `
function direBonjour(nom, ...noms) {
    console.log('Param√®tre 1: ' + nom)
    for(let i = 0; i < noms.length; i++) {
        console.log(noms[i]);
    }
    console.log('---');
    for(let i = 0; i < arguments.length; i++) {
        console.log(arguments[i]);
    }
}
direBonjour('Arthur', 'Merlin', 'Perceval');
        `);

        addCell('cells31', 'Fonctions anonymes', `
var tableau1 = [0,2,4,6,8];
var tableau2 = [0,2,5,6,8];

// Que recherchons nous √† tester ici ?

var response1 = tableau1.every(function(valeur){
    return (valeur % 2 == 0);
});

// M√™me question ici ?

var response2 = tableau2.every(function(valeur){
    return (valeur % 2 == 1);
});

console.log(response1);
console.log(response2);
        `);

        addCell('cells32', 'Ph√©nom√®ne de hissage (1/2)', `
bonjour();
function bonjour() { // Ph√©nom√®ne de hissage.
    console.log('Bonjour !');
}
        `);
        
        addCell('cells33', 'Ph√©nom√®ne de hissage (2/2)', `
console.log(bonjour); // Hissage de la d√©claration et non de son initialisation.
bonjour();
var bonjour = function() {
    console.log('Bonjour !');
}
        `);

        addCell('cells34', 'Fonctions fl√©ch√©es', `
var tableau1 = [0,2,4,6,8];
console.log(tableau1.every((valeur) => (valeur % 2 == 0)));
console.log(tableau1.every(valeur => {
    return valeur % 2 == 0
}));
        `);

        addCell('cells35', 'Fonctions auto-ex√©cut√©es', `
// Fonction anonyme.
(function(valeur){
    console.log(valeur % 2);
})(3);

// Fonction fl√©ch√©e.
((valeur) => {
    console.log(valeur % 2);
})(3);

// Fonction nomm√©e.
(function nom_fonction(valeur){
    console.log(valeur % 2);
})(3);
        `);

        addCell('cells36', 'Objet <code>Function</code>', `
let ma_fonction = () => 3;
console.log(ma_fonction instanceof Function);
let mon_tableau = [1, 2];
console.log(mon_tableau instanceof Array);
        `);

        addCell('cells37', "Fonction d'ordre sup√©rieur", `
function multiplierParDeux(nombre) {
    return nombre * 2;
}
function afficher(nombre) {
    console.log('La fonction afficher() affiche la valeur :', nombre);
    return nombre;
}
console.log('Les fonctions imbriqu√©es affichent :', afficher(multiplierParDeux(4)));

function afficherDouble(nombre) { // Ne prend pas de fonction en entr√©e.
    return afficher(multiplierParDeux(nombre)); // Ne renvoie pas de fonction en sortie.
}
console.log('La fonction afficherDouble() affiche :', afficherDouble(5));

// Fonction d'ordre sup√©rieur.
// De mani√®re plus g√©n√©rique, une fonction f() exploite le retour d'une fonction g().
function compose(f, g) { // Prend deux fonctions en entr√©e.
    return (nombre) => { // Renvoie une fonction en sortie.
        return f(g(nombre));
    };
}
var fonctionImbriquee = compose(afficher, multiplierParDeux);
console.log('La fonction imbriqu√©e fonctionImbriquee() affiche :', fonctionImbriquee(6));
        `);

        addCell('cells38', '<i>Closure</i> (1/2)', `
function ajouteCarres(a, b) {
   function carre(x) { // La fonction interne est une closure.
      return x * x;
   }
   return carre(a) + carre(b);
}
let a = ajouteCarres(1, 2);
let b = ajouteCarres(3, 4);
let c = ajouteCarres(5, 6);
console.log(a + "; "+ b + "; " + c);
        `);

        addCell('cells39', '<i>Closure</i> (2/2)', `
// D√©finition des arguments pour la fonction externe, utilis√©s aussi pour la fonction interne.
function addition(nombre1){
    return function(nombre2){
        return nombre1 + nombre2; // nombre1 est captur√© dans l'environnement de la fonction retourn√©e.
    }
}
var additionBase10 = addition(10);
console.log(additionBase10(5));
// Ou.
console.log(addition(3)(4));
        `);

        addCell('cells40', 'Cha√Æne de port√©e', `
/* == D'apr√®s vous, que retournera la variable "resultat" ? == */

function externe() {
    var x = 10;
    function interne(x) {
        return x;
    }
    return interne; // On retourne la fonction interne pour pouvoir l'ex√©cuter.
}
var resultat = externe()(20);
console.log(resultat);
        `);

        addCell('cells41', 'Question', `
/* == D'apr√®s vous, que retournera la variable "resultat" ? == */

function externe() {
    function interne(x) {
        return function(y){
            return x * 2 + y;
        };
    }
    return interne;
}
var resultat = externe()(20);
console.log(resultat(5));
        `);

        addCell('cells42', 'D√©clarer et instancier un tableau', `
var tableau = ["Merlin", 884, null, undefined];
console.log(tableau[0] + ' | ' + tableau[1] + ' | ' + tableau[2] + ' | ' + tableau[3]);

/* Utiliser le constructeur de l'objet  pour initialiser un tableau de taille 5 */
let tableau1 = new Array(5);
console.log('tableau1/Index_1: ' + tableau1[0]); // 5 valeurs undefined.

var tableau2 = new Array(5).fill(5);
console.log(tableau2.toString());
        `);

        addCell('cells42-1', "Modifier une valeur √† partir d'un index", `
let tableau1 = ["Merlin", 884];
console.log(tableau1.toString());
tableau1[0] = "Perceval";
console.log(tableau1.toString());
let tableau2 = new Array(6);
console.log(tableau2.toString());
tableau2[2] = 't';
console.log(tableau2.toString());
        `);

        addCell('cells43', 'Syntaxe de d√©composition', `
let tableau = [1, 2, 3];
let [premier, deuxieme, troisieme] = tableau;
console.log(tableau.toString() + " | " + premier + " | " + deuxieme + " | " + troisieme);

let [first, ...reste] = tableau;
console.log(tableau.toString() + " | " + first + " | " + reste.toString());
        `);

        addCell('cells44', 'Tableau imbriqu√©', `
let tableau = [['Merlin', 884], ['Lapin adulte', 9]];
console.log(tableau[1][0]);
        `);

        addCell('cells45', "Taille d'un tableau", `
let tableau = [1, 2, 3];
console.log('Le tableau contient :', tableau.length, '√©lements');
        `);

        addCell('cells46', 'Ajouter un √©l√©ment', `
let tableau = [1, 2];
tableau.push(3);    // Ajout √† la fin.
tableau.unshift(0); // Ajout au d√©but.
console.log(tableau.toString());
        `);

        addCell('cells47', 'Supprimer un √©l√©ment', `
let tableau = [0, 1, 2, 3, 4, 5, 6, 7, 8];

// Suppression du dernier √©l√©ment.
var element_pop = tableau.pop();
console.log(element_pop + " | " + typeof element_pop + " | " + tableau.toString());

// Suppression du premier √©l√©ment.
element_pop = tableau.shift();
console.log(element_pop + " | " + typeof element_pop + " | " + tableau.toString());

// Suppression d'un √©l√©ment de taille 1 √† partir de l'index 0.
element_pop = tableau.splice(0, 1);
console.log(element_pop.toString() + " | " + typeof element_pop + " | " + tableau.toString());

// Suppression d'un √©l√©ment de taille 3 √† partir de l'index 1.
element_pop = tableau.splice(1, 3);
console.log(element_pop.toString() + " | " + typeof element_pop + " | " + tableau.toString());
        `);

        addCell('cells48', "Rechercher l'index d'un √©l√©ment", `
let tableau = [1, 2, 'Arthur', 3, 4, 'Arthur'];
console.log(tableau.indexOf(2));
console.log(tableau.indexOf("Arthur"));
console.log(tableau.indexOf("Arthur", 3));
console.log(tableau.lastIndexOf("Arthur"));
console.log(tableau.indexOf("Perceval"));
        `);

        addCell('cells49', 'Concat√©nation de tableaux', `
let tableau1 = [0, 1];
let tableau2 = [2, 3];
let tableau3 = [4, 5];
let tableau4 = tableau1.concat(tableau2, tableau3);
let tableau5 = [...tableau1, ...tableau2, ...tableau3]
console.log(tableau4.toString());
console.log(tableau5.toString());
        `);

/*        
        addCell('cells00', '', `

        `);
*/

        // addCell('cellsXXX', `// Exemple : quelques bases JS\nconst name = 'Mon nouveau cours JS';\nconsole.log('Bienvenue dans', name);\n\n// Fonction\nfunction add(a, b){ return a * b }\nconsole.log('2 + 3 =', add(2,3));\n\n// Objet\nconst user = { id: 1, name: 'Ada' };\nconsole.log(user);\n\n// Top-level await (fetch exemple simul√©)\nawait new Promise(r => setTimeout(r, 300));\nconsole.log('Async OK');`);

    </script>
</body>
</html>